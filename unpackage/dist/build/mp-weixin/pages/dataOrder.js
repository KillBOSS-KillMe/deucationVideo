(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/dataOrder"],{"176b":function(e,t,o){"use strict";o.r(t);var a=o("f1db"),n=o("8a03");for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);o("5160");var s,r=o("f0c5"),l=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);t["default"]=l.exports},"3bcf":function(e,t,o){},5160:function(e,t,o){"use strict";var a=o("3bcf"),n=o.n(a);n.a},"8a03":function(e,t,o){"use strict";o.r(t);var a=o("d456"),n=o.n(a);for(var i in a)"default"!==i&&function(e){o.d(t,e,(function(){return a[e]}))}(i);t["default"]=n.a},d456:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o("f5fd"));function n(e){return e&&e.__esModule?e:{default:e}}var i=getApp(),s={mixins:[a.default],data:function(){return{Inv:0,imgUrl:"",navId:"-1",nav:[{navName:"全部",id:"-1"},{navName:"待付款",id:"1"},{navName:"待发货",id:"2"},{navName:"待收货",id:"3"},{navName:"评价",id:"4"}],list:[],downOption:{auto:!0},upOption:{page:{num:0,size:20},noMoreSize:5,empty:{tip:"暂无相关数据"},textNoMore:"没有更多数据了"},orderType:""}},onLoad:function(t){this.imgUrl=this.$helper.imgUrl,console.log(t),"图书订单"==t.type?this.orderType="book":this.orderType="data",e.setNavigationBarTitle({title:t.type})},methods:{navTap:function(e,t){this.Inv=e,this.navId=t,this.list=[],this.mescroll.resetUpScroll()},prompEvaluate:function(t){e.navigateTo({url:"/pages/orderAssess?obj=".concat(JSON.stringify(t),"&type=").concat(this.orderType)})},downCallback:function(){this.mescroll.resetUpScroll()},upCallback:function(e){this.getList(e)},getList:function(t){var o=this;e.showLoading({title:"加载中..."}),e.request({url:"".concat(this.$helper.requestUrl,"user/myOrderList"),method:"POST",header:{authorization:i.globalData.token},data:{type:this.orderType,state:this.navId,page_size:t.size,page:t.num},success:function(a){e.hideLoading(),a=o.$helper.null2str(a.data),"ok"==a.status_code&&("暂无信息"==a.message?(o.list=[],o.mescroll.endByPage(0,0)):(1==t.num&&(o.list=[]),o.list=o.list.concat(a.data.data),o.mescroll.endByPage(a.data.data.length,a.data.total)))}})},againBuy:function(t){e.navigateTo({url:"/pages/indexDataDetail?type=".concat(this.orderType,"&id=").concat(t)})},remind:function(t){var o=this;e.showLoading({title:"加载中..."}),e.request({url:"".concat(this.$helper.requestUrl,"user/sendRemind"),method:"POST",header:{authorization:i.globalData.token},data:{type:this.orderType,ordernum:t},success:function(t){e.hideLoading(),t=o.$helper.null2str(t.data),"ok"==t.status_code?(e.showToast({title:t.message,icon:"none"}),setTimeout((function(e){o.mescroll.resetUpScroll()}),2e3)):e.showToast({title:t.message,icon:"none"})}})},orderConfirm:function(t){var o=this;e.showLoading({title:"加载中..."}),e.request({url:"".concat(this.$helper.requestUrl,"user/receive"),method:"POST",header:{authorization:i.globalData.token},data:{type:this.orderType,ordernum:t},success:function(t){e.hideLoading(),t=o.$helper.null2str(t.data),"ok"==t.status_code?(e.showToast({title:t.message,icon:"none"}),setTimeout((function(e){o.mescroll.resetUpScroll()}),2e3)):e.showToast({title:t.message,icon:"none"})}})},del:function(t){var o=this;e.showLoading({title:"删除中..."}),e.request({url:"".concat(this.$helper.requestUrl,"user/delOrder"),method:"POST",header:{authorization:i.globalData.token},data:{type:this.orderType,ordernum:t},success:function(t){e.hideLoading(),t=o.$helper.null2str(t.data),console.log(t),"ok"==t.status_code?(e.showToast({title:t.message,icon:"none"}),setTimeout((function(e){o.mescroll.resetUpScroll()}),2e3)):e.showToast({title:t.message,icon:"none"})}})},promptlyPay:function(t){var o=this;e.request({url:"".concat(this.$helper.requestUrl,"pay/pay"),method:"POST",header:{authorization:i.globalData.token},data:{type:this.orderType,ordernum:t},success:function(t){t=o.$helper.null2str(t.data),console.log(t,"-------------------"),e.hideToast(),"ok"==t.status_code?o.getPay(t.data):e.showToast({title:t.message,icon:"none"})}})},getPay:function(t){var o=this;e.showLoading({title:"支付加载中..."}),e.requestPayment({provider:"wxpay",timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:function(t){e.hideLoading(),t=o.$helper.null2str(t),e.showToast({title:"支付成功",icon:"success",duration:2e3}),setTimeout((function(e){o.mescroll.resetUpScroll()}),2e3)},fail:function(t){e.showToast({title:"支付失败",icon:"none",duration:2e3})}})},goDetail:function(t){console.log(t),e.navigateTo({url:"/pages/orderDetail?obj=".concat(JSON.stringify(t),"&type=").concat(this.orderType)})}}};t.default=s}).call(this,o("543d")["default"])},ea62:function(e,t,o){"use strict";(function(e){o("95ab"),o("921b");a(o("66fd"));var t=a(o("176b"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},f1db:function(e,t,o){"use strict";var a,n=function(){var e=this,t=e.$createElement;e._self._c},i=[];o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return a}))}},[["ea62","common/runtime","common/vendor"]]]);